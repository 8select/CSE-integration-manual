---
description: Fetch cross selling products for a given product identifier.
---

# 8.SET

## What we want to build

We want to show a slider with cross selling content. We want to limit the number of different product categories we show to 5 and only want 3 products per category. We will then end up with up to 15 matching products.

{% hint style="info" %}
The response will not include the product the content was requested for. If you want to include it in your UI you need to add it to the list of products on your side.
{% endhint %}

<figure><img src="../../.gitbook/assets/set-wo-trigger.gif" alt=""><figcaption></figcaption></figure>

We will request 5 matching clusters with up to 3 products each. We actually get back less products in our example - 3 shirts; 2 watches; 3 girdles; 2 trousers; 3 gloves

Our UI will be rendered by alternating over the 5 clusters, i.e. we take one product out of each cluster and then start the iteration again until no more products are left.

## GraphQL query and response

{% tabs %}
{% tab title="GraphQL query" %}
```graphql
query {
  product(id: "8S-DEMO-Polohemd-1") {
    matchingProductClusters(first: 5) {
      edges {
        node {
          products(first: 3) {
            edges {
              node {
                id
              }
            }
          }
        }
      }
    }
  }
}

```
{% endtab %}

{% tab title="cURL request" %}
{% code overflow="wrap" %}
```bash
curl --request POST \
  --url https://api.8select.io/graphql \
  --header 'Content-Type: application/json' \
  --header 'x-api-id: db54750f-80fc-4818-9455-30ca233225dc' \
  --data '{"query":"query {\n  product(id: \"8S-DEMO-Polohemd-1\") {\n    matchingProductClusters(first: 5) {\n      edges {\n        node {\n          products(first: 3) {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"}'
```
{% endcode %}
{% endtab %}

{% tab title="response" %}
```json
{
  "data": {
    "product": {
      "matchingProductClusters": {
        "edges": [
          {
            "node": {
              "products": {
                "edges": [
                  {
                    "node": {
                      "id": "8S-DEMO-Polohemd-10"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Polohemd-7"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Polohemd-8"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "products": {
                "edges": [
                  {
                    "node": {
                      "id": "8S-DEMO-Uhr-1"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Uhr-2"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "products": {
                "edges": [
                  {
                    "node": {
                      "id": "8S-DEMO-Gürtel-3"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Gürtel-4"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Gürtel-1"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "products": {
                "edges": [
                  {
                    "node": {
                      "id": "8S-DEMO-Hose-1"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Hose-3"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "products": {
                "edges": [
                  {
                    "node": {
                      "id": "8S-DEMO-Handschuhe-1"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Handschuhe-2"
                    }
                  },
                  {
                    "node": {
                      "id": "8S-DEMO-Handschuhe-3"
                    }
                  }
                ]
              }
            }
          }
        ]
      }
    }
  }
}
```
{% endtab %}
{% endtabs %}

